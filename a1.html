<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–£—Ä–æ–∫ –Ω–µ–º–µ—Ü–∫–æ–≥–æ</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, sans-serif;
      background: linear-gradient(135deg, #2c3e50, #34495e);
      color: #f8f9fa;
      margin: 0;
      padding: 20px;
    }

    .card {
      background: #3b3b58;
      padding: 20px;
      border-radius: 20px;
      box-shadow: 0 8px 18px rgba(0,0,0,0.6);
      width: 600px;
      max-width: 95%;
      margin: 0 auto;
    }

    h1, h2 {
      color: #ffd166;
      text-align: center;
    }

    .phrase {
      margin: 10px 0;
      font-size: 20px;
      line-height: 1.5;
    }

    .highlight {
      background-color: #ffd166;
      color: #000;
      border-radius: 6px;
      padding: 2px 6px;
    }

    button {
      background: #6c5ce7;
      color: #fff;
      border: none;
      padding: 8px 14px;
      border-radius: 8px;
      margin: 5px;
      cursor: pointer;
      font-size: 15px;
      transition: transform 0.2s;
    }

    button:hover {
      transform: scale(1.05);
      background: #7d6cf2;
    }

    .btn {
      display: block;
      margin: 10px auto;
      font-size: 16px;
      width: 80%;
    }

    .youtube-btn {
      background: linear-gradient(90deg, #ff4b2b, #ff416c);
    }

    .telegram-btn {
      background: linear-gradient(90deg, #0088cc, #00bfff);
    }

    .test-btn {
      background: linear-gradient(90deg, #6c5ce7, #7d6cf2);
    }

    input {
      width: 90%;
      padding: 10px;
      margin: 5px 0;
      border-radius: 8px;
      border: none;
      font-size: 16px;
      text-align: center;
    }

    #menu {
      text-align: center;
      margin-bottom: 15px;
    }

    #rateValue {
      font-weight: bold;
      color: #ffd166;
    }

    .question-block {
      background: #444;
      padding: 12px;
      border-radius: 12px;
      margin-bottom: 10px;
      transition: background 0.3s;
    }

    .feedback {
      display: block;
      margin-top: 5px;
      font-size: 16px;
      font-weight: bold;
    }

    #lessonScreen, #testScreen {
      animation: fadeIn 0.4s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
<div class="card">
  <div id="menu">
    <h1>@deutschland_learn</h1>
    <label for="lessonSelect">–í—ã–±–µ—Ä–∏ —É—Ä–æ–∫:</label>
    <select id="lessonSelect" onchange="goLesson(this.value)">
      <option value="">-- –≤—ã–±—Ä–∞—Ç—å --</option>
      <option value="1">–£—Ä–æ–∫ 1</option>
      <option value="2">–£—Ä–æ–∫ 2</option>
      <option value="3">–£—Ä–æ–∫ 3</option>
      <option value="4">–£—Ä–æ–∫ 4</option>
      <option value="5">–£—Ä–æ–∫ 5</option>
      <option value="6">–£—Ä–æ–∫ 6</option>
      <option value="7">–£—Ä–æ–∫ 7</option>
      <option value="8">–£—Ä–æ–∫ 8</option>
      <option value="9">–£—Ä–æ–∫ 9</option>
      <option value="10">–£—Ä–æ–∫ 10</option>
      <option value="11">–£—Ä–æ–∫ 11</option>
      <option value="12">–£—Ä–æ–∫ 12</option>
      <option value="13">–£—Ä–æ–∫ 13</option>
      <option value="14">–£—Ä–æ–∫ 14</option>
      <option value="15">–£—Ä–æ–∫ 15</option>
      <option value="16">–£—Ä–æ–∫ 16</option>
      <option value="17">–£—Ä–æ–∫ 17</option>
      <option value="18">–£—Ä–æ–∫ 18</option>
      <option value="19">–£—Ä–æ–∫ 19</option>
      <option value="20">–£—Ä–æ–∫ 20</option>
      <option value="21">–£—Ä–æ–∫ 21</option>
      <option value="22">–£—Ä–æ–∫ 22</option>
      <option value="23">–£—Ä–æ–∫ 23</option>
      <option value="24">–£—Ä–æ–∫ 24</option>
      <option value="25">–£—Ä–æ–∫ 25</option>
    </select>
  </div>

  <h1 id="lessonTitle">–£—Ä–æ–∫</h1>
  <div style="margin:15px 0; text-align:center;">
    <label for="rateRange">‚ö° –°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ—á–∏: </label>
    <input type="range" id="rateRange" min="0.5" max="2" step="0.1" value="1">
    <span id="rateValue">1.0</span>x
  </div>

  <div id="lessonScreen">
    <div id="lessonContent"></div>

    <button id="youtubeBtn" class="btn youtube-btn">üé• –°–º–æ—Ç—Ä–µ—Ç—å —É—Ä–æ–∫</button>
    <button id="telegramBtn" class="btn telegram-btn">‚úàÔ∏è –ù–∞—à Telegram –∫–∞–Ω–∞–ª</button>
    <button id="toTestBtn" class="btn test-btn">üß† –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</button>
  </div>

  <!-- –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è -->
  <div id="testScreen" style="display:none;">
    <h2>–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</h2>
    <div id="testContainer"></div>
    <button id="backToLessons" class="btn">‚Üê –ù–∞–∑–∞–¥ –∫ —É—Ä–æ–∫–∞–º</button>
  </div>
</div>

<script>
  const lessons = {
    1: {
    words: [
    ["–∞—Ä—Ç–∏–∫–ª–∏ –º—É–∂—Å–∫–æ–π —Å—Ä–µ–¥–Ω–∏–π –∂–µ–Ω—Å–∫–∏–π", "Der (m), Das (n), Die (f)"],
    ["–§–∏–ª—å–º –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π", "Der Film ist interessant"],
    ["–ö–Ω–∏–≥–∞ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∞—è", "Das Buch ist sehr gut"],
    ["–ü–∏—Ü—Ü–∞ –æ—á–µ–Ω—å –≤–∫—É—Å–Ω–∞—è", "Die Pizza ist sehr lecker"],
    ["–§–∏–ª—å–º —Ç–∞–∫–æ–π —Å–∫—É—á–Ω—ã–π", "Der Film ist so langweilig"],
    ["–ö–Ω–∏–≥–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ä–æ—à–∞—è", "Das Buch ist wirklich gut"],
    ["–ü–∏—Ü—Ü–∞ —Ç–∞–∫–∞—è –≤–∫—É—Å–Ω–∞—è", "Die Pizza ist so lecker"],
    ["–ß–∞–π –≥–æ—Ä—è—á–∏–π", "Der Tee ist hei√ü"],
    ["–ß–∞–π –æ—á–µ–Ω—å –≥–æ—Ä—è—á–∏–π", "Der Tee ist sehr hei√ü"],
    ["–ö–æ—Ñ–µ –≥–æ—Ä—è—á–∏–π", "Der Kaffee ist hei√ü"],
    ["–ö–æ—Ñ–µ –æ—á–µ–Ω—å –≥–æ—Ä—è—á–∏–π", "Der Kaffee ist sehr hei√ü"],
    ["–î–æ–º –±–æ–ª—å—à–æ–π", "Das Haus ist gro√ü"],
    ["–î–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π", "Das Haus ist klein"],
    ["–ï–¥–∞ —Ç–∞–∫–∞—è –≤–∫—É—Å–Ω–∞—è", "Das Essen ist so lecker"],
    ["–ï–¥–∞ –æ—á–µ–Ω—å –≤–∫—É—Å–Ω–∞—è", "Das Essen ist sehr lecker"],
    ["–í–æ–¥–∞ —Ö–æ–ª–æ–¥–Ω–∞—è", "Das Wasser ist kalt"],
    ["–í–æ–¥–∞ –æ—á–µ–Ω—å —Ö–æ–ª–æ–¥–Ω–∞—è", "Das Wasser ist sehr kalt"],
    ["–ú–∞—à–∏–Ω–∞ –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–∞—è", "Das Auto ist sehr schnell"],
    ["–ú–∞—à–∏–Ω–∞ –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–∞—è", "Das Auto ist sehr langsam"],
    ["–ì–æ—Ä–æ–¥ –∫—Ä–∞—Å–∏–≤—ã–π", "Die Stadt ist sch√∂n"],
    ["–ì–æ—Ä–æ–¥ –æ—á–µ–Ω—å –∫—Ä–∞—Å–∏–≤—ã–π", "Die Stadt ist sehr sch√∂n"],
    ["–ì–æ—Ä–æ–¥ —Ç–∞–∫–æ–π –∫—Ä–∞—Å–∏–≤—ã–π", "Die Stadt ist so sch√∂n"],
    ["–ú—É–∑—ã–∫–∞ –≥—Ä–æ–º–∫–∞—è", "Die Musik ist laut"],
    ["–ú—É–∑—ã–∫–∞ –æ—á–µ–Ω—å –≥—Ä–æ–º–∫–∞—è", "Die Musik ist sehr laut"],
    ["–°—É–º–∫–∞ —Ç—è–∂–µ–ª–∞—è", "Die Tasche ist schwer"],
    ["–°—É–º–∫–∞ –æ—á–µ–Ω—å —Ç—è–∂–µ–ª–∞—è", "Die Tasche ist sehr schwer"],
    ["–°—É–º–∫–∞ —Ç–∞–∫–∞—è —Ç—è–∂–µ–ª–∞—è", "Die Tasche ist so schwer"]
  ],
  youtube: "https://youtu.be/hAROvz0YlVQ"
}






  };

const telegramLink = "https://t.me/deutschland_learn";
     let currentLesson = 1;
  let speechRate = 1;
  let currentUtterance = null;

  const params = new URLSearchParams(window.location.search);
  if (params.has("lesson")) currentLesson = parseInt(params.get("lesson"));
  document.getElementById("lessonSelect").value = currentLesson;

  function goLesson(n) {
    window.location.search = "?lesson=" + n;
  }
    // –∫–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é
  document.getElementById("toTestBtn").addEventListener("click", () => {
    // –ø–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–π –Ω–æ–º–µ—Ä —É—Ä–æ–∫–∞
    const currentLesson = document.getElementById("lessonSelect").value || 1;
    // –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ test.html, –ø–µ—Ä–µ–¥–∞–≤–∞—è –Ω–æ–º–µ—Ä —É—Ä–æ–∫–∞ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä
    window.location.href = `lesen5.html?lesson=${currentLesson}`;
  });

  function speakWord(wordElement, text, lang = "de-DE") {
    if (currentUtterance) speechSynthesis.cancel();
    wordElement.classList.add("highlight");
    const utter = new SpeechSynthesisUtterance(text);
    utter.lang = lang;
    utter.rate = speechRate;
    currentUtterance = utter;
    utter.onend = () => wordElement.classList.remove("highlight");
    speechSynthesis.speak(utter);
  }

  function renderLesson() {
    const content = document.getElementById("lessonContent");
    content.innerHTML = "";
    const lesson = lessons[currentLesson];
    if (!lesson) return;
    document.getElementById("lessonTitle").textContent = "–£—Ä–æ–∫ " + currentLesson;

    lesson.words.forEach(pair => {
      const div = document.createElement("div");
      div.className = "phrase";
      div.textContent = `${pair[0]} ‚Äî ${pair[1]} `;
      const btn = document.createElement("button");
      btn.textContent = "üîä";
      btn.onclick = () => speakWord(div, pair[1]);
      div.appendChild(btn);
      content.appendChild(div);
    });
    document.getElementById("youtubeBtn").onclick = () => {
    window.open(lesson.youtube, "_blank");
  };
  document.getElementById("telegramBtn").onclick = () => {
    window.open(telegramLink, "_blank");
  };
}

  // –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
  const lessonScreen = document.getElementById("lessonScreen");
  const testScreen = document.getElementById("testScreen");
  const toTestBtn = document.getElementById("toTestBtn");
  const backToLessons = document.getElementById("backToLessons");
  const testContainer = document.getElementById("testContainer");

  toTestBtn.addEventListener("click", () => {
    const lesson = lessons[currentLesson];
    if (!lesson || !lesson.words) return;

    testContainer.innerHTML = `<h3>–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Äî –£—Ä–æ–∫ ${currentLesson}</h3>`;

    const shuffled = [...lesson.words].sort(() => Math.random() - 0.5).slice(0, 5);

    shuffled.forEach(([q, a], i) => {
      const isRuToDe = Math.random() < 0.5;
      const question = isRuToDe ? q : a;
      const answer = isRuToDe ? a : q;

      const block = document.createElement("div");
      block.className = "question-block";
      block.innerHTML = `
        <p>${i + 1}. ${isRuToDe ? `–ö–∞–∫ –±—É–¥–µ—Ç –ø–æ-–Ω–µ–º–µ—Ü–∫–∏: <b>${question}</b>?` : `–ß—Ç–æ –∑–Ω–∞—á–∏—Ç: <b>${question}</b>?`}</p>
        <input type="text" class="testInput" placeholder="–û—Ç–≤–µ—Ç...">
        <button class="checkBtn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
        <span class="feedback"></span>
      `;

      const input = block.querySelector(".testInput");
      const btn = block.querySelector(".checkBtn");
      const fb = block.querySelector(".feedback");

      btn.addEventListener("click", () => {
        if (input.value.trim().toLowerCase() === answer.toLowerCase()) {
          fb.textContent = "‚úÖ –í–µ—Ä–Ω–æ!";
          fb.style.color = "#4caf50";
        } else {
          fb.textContent = `‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω–æ: ${answer}`;
          fb.style.color = "#f44336";
        }
      });

      testContainer.appendChild(block);
    });

    lessonScreen.style.display = "none";
    testScreen.style.display = "block";
  });

  backToLessons.addEventListener("click", () => {
    testScreen.style.display = "none";
    lessonScreen.style.display = "block";
  });

  // —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ—á–∏
  const rateRange = document.getElementById("rateRange");
  const rateValue = document.getElementById("rateValue");
  rateRange.addEventListener("input", () => {
    speechRate = parseFloat(rateRange.value);
    rateValue.textContent = speechRate.toFixed(1);
  });

  renderLesson();
</script>
</body>
</html>