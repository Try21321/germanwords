<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–£—Ä–æ–∫ –Ω–µ–º–µ—Ü–∫–æ–≥–æ</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, sans-serif;
      background: linear-gradient(135deg, #2c3e50, #34495e);
      color: #f8f9fa;
      margin: 0;
      padding: 20px;
    }

    .card {
      background: #3b3b58;
      padding: 20px;
      border-radius: 20px;
      box-shadow: 0 8px 18px rgba(0,0,0,0.6);
      width: 600px;
      max-width: 95%;
      margin: 0 auto;
    }

    h1, h2 {
      color: #ffd166;
      text-align: center;
    }

    .phrase {
      margin: 10px 0;
      font-size: 20px;
      line-height: 1.5;
    }

    .highlight {
      background-color: #ffd166;
      color: #000;
      border-radius: 6px;
      padding: 2px 6px;
    }

    button {
      background: #6c5ce7;
      color: #fff;
      border: none;
      padding: 8px 14px;
      border-radius: 8px;
      margin: 5px;
      cursor: pointer;
      font-size: 15px;
      transition: transform 0.2s;
    }

    button:hover {
      transform: scale(1.05);
      background: #7d6cf2;
    }

    .btn {
      display: block;
      margin: 10px auto;
      font-size: 16px;
      width: 80%;
    }

    .youtube-btn {
      background: linear-gradient(90deg, #ff4b2b, #ff416c);
    }

    .telegram-btn {
      background: linear-gradient(90deg, #0088cc, #00bfff);
    }

    .test-btn {
      background: linear-gradient(90deg, #6c5ce7, #7d6cf2);
    }

    input {
      width: 90%;
      padding: 10px;
      margin: 5px 0;
      border-radius: 8px;
      border: none;
      font-size: 16px;
      text-align: center;
    }

    #menu {
      text-align: center;
      margin-bottom: 15px;
    }

    #rateValue {
      font-weight: bold;
      color: #ffd166;
    }

    .question-block {
      background: #444;
      padding: 12px;
      border-radius: 12px;
      margin-bottom: 10px;
      transition: background 0.3s;
    }

    .feedback {
      display: block;
      margin-top: 5px;
      font-size: 16px;
      font-weight: bold;
    }

    #lessonScreen, #testScreen {
      animation: fadeIn 0.4s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
<div class="card">
  <div id="menu">
    <h1>@deutschland_learn</h1>
    <label for="lessonSelect">–í—ã–±–µ—Ä–∏ —É—Ä–æ–∫:</label>
    <select id="lessonSelect" onchange="goLesson(this.value)">
      <option value="">-- –≤—ã–±—Ä–∞—Ç—å --</option>
      <option value="1">–£—Ä–æ–∫ 1</option>
      <option value="2">–£—Ä–æ–∫ 2</option>
      <option value="3">–£—Ä–æ–∫ 3</option>
      <option value="4">–£—Ä–æ–∫ 4</option>
      <option value="5">–£—Ä–æ–∫ 5</option>
      <option value="6">–£—Ä–æ–∫ 6</option>
      <option value="7">–£—Ä–æ–∫ 7</option>
      <option value="8">–£—Ä–æ–∫ 8</option>
      <option value="9">–£—Ä–æ–∫ 9</option>
      <option value="10">–£—Ä–æ–∫ 10</option>
      <option value="11">–£—Ä–æ–∫ 11</option>
      <option value="12">–£—Ä–æ–∫ 12</option>
      <option value="13">–£—Ä–æ–∫ 13</option>
      <option value="14">–£—Ä–æ–∫ 14</option>
      <option value="15">–£—Ä–æ–∫ 15</option>
      <option value="16">–£—Ä–æ–∫ 16</option>
      <option value="17">–£—Ä–æ–∫ 17</option>
      <option value="18">–£—Ä–æ–∫ 18</option>
      <option value="19">–£—Ä–æ–∫ 19</option>
      <option value="20">–£—Ä–æ–∫ 20</option>
      <option value="21">–£—Ä–æ–∫ 21</option>
      <option value="22">–£—Ä–æ–∫ 22</option>
      <option value="23">–£—Ä–æ–∫ 23</option>
      <option value="24">–£—Ä–æ–∫ 24</option>
      <option value="25">–£—Ä–æ–∫ 25</option>
    </select>
  </div>

  <h1 id="lessonTitle">–£—Ä–æ–∫</h1>
  <div style="margin:15px 0; text-align:center;">
    <label for="rateRange">‚ö° –°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ—á–∏: </label>
    <input type="range" id="rateRange" min="0.5" max="2" step="0.1" value="1">
    <span id="rateValue">1.0</span>x
  </div>

  <div id="lessonScreen">
    <div id="lessonContent"></div>

    <button id="youtubeBtn" class="btn youtube-btn">üé• –°–º–æ—Ç—Ä–µ—Ç—å —É—Ä–æ–∫</button>
    <button id="telegramBtn" class="btn telegram-btn">‚úàÔ∏è –ù–∞—à Telegram –∫–∞–Ω–∞–ª</button>
    <button id="toTestBtn" class="btn test-btn">üß† –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</button>
  </div>

  <!-- –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è -->
  <div id="testScreen" style="display:none;">
    <h2>–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</h2>
    <div id="testContainer"></div>
    <button id="backToLessons" class="btn">‚Üê –ù–∞–∑–∞–¥ –∫ —É—Ä–æ–∫–∞–º</button>
  </div>
</div>

<script>
  const lessons = {
    1: {
    words: [
    ["–∞—Ä—Ç–∏–∫–ª–∏ –º—É–∂—Å–∫–æ–π —Å—Ä–µ–¥–Ω–∏–π –∂–µ–Ω—Å–∫–∏–π", "Der (m), Das (n), Die (f)"],
    ["–§–∏–ª—å–º –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π", "Der Film ist interessant"],
    ["–ö–Ω–∏–≥–∞ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∞—è", "Das Buch ist sehr gut"],
    ["–ü–∏—Ü—Ü–∞ –æ—á–µ–Ω—å –≤–∫—É—Å–Ω–∞—è", "Die Pizza ist sehr lecker"],
    ["–§–∏–ª—å–º —Ç–∞–∫–æ–π —Å–∫—É—á–Ω—ã–π", "Der Film ist so langweilig"],
    ["–ö–Ω–∏–≥–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ä–æ—à–∞—è", "Das Buch ist wirklich gut"],
    ["–ü–∏—Ü—Ü–∞ —Ç–∞–∫–∞—è –≤–∫—É—Å–Ω–∞—è", "Die Pizza ist so lecker"],
    ["–ß–∞–π –≥–æ—Ä—è—á–∏–π", "Der Tee ist hei√ü"],
    ["–ß–∞–π –æ—á–µ–Ω—å –≥–æ—Ä—è—á–∏–π", "Der Tee ist sehr hei√ü"],
    ["–ö–æ—Ñ–µ –≥–æ—Ä—è—á–∏–π", "Der Kaffee ist hei√ü"],
    ["–ö–æ—Ñ–µ –æ—á–µ–Ω—å –≥–æ—Ä—è—á–∏–π", "Der Kaffee ist sehr hei√ü"],
    ["–î–æ–º –±–æ–ª—å—à–æ–π", "Das Haus ist gro√ü"],
    ["–î–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π", "Das Haus ist klein"],
    ["–ï–¥–∞ —Ç–∞–∫–∞—è –≤–∫—É—Å–Ω–∞—è", "Das Essen ist so lecker"],
    ["–ï–¥–∞ –æ—á–µ–Ω—å –≤–∫—É—Å–Ω–∞—è", "Das Essen ist sehr lecker"],
    ["–í–æ–¥–∞ —Ö–æ–ª–æ–¥–Ω–∞—è", "Das Wasser ist kalt"],
    ["–í–æ–¥–∞ –æ—á–µ–Ω—å —Ö–æ–ª–æ–¥–Ω–∞—è", "Das Wasser ist sehr kalt"],
    ["–ú–∞—à–∏–Ω–∞ –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–∞—è", "Das Auto ist sehr schnell"],
    ["–ú–∞—à–∏–Ω–∞ –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–∞—è", "Das Auto ist sehr langsam"],
    ["–ì–æ—Ä–æ–¥ –∫—Ä–∞—Å–∏–≤—ã–π", "Die Stadt ist sch√∂n"],
    ["–ì–æ—Ä–æ–¥ –æ—á–µ–Ω—å –∫—Ä–∞—Å–∏–≤—ã–π", "Die Stadt ist sehr sch√∂n"],
    ["–ì–æ—Ä–æ–¥ —Ç–∞–∫–æ–π –∫—Ä–∞—Å–∏–≤—ã–π", "Die Stadt ist so sch√∂n"],
    ["–ú—É–∑—ã–∫–∞ –≥—Ä–æ–º–∫–∞—è", "Die Musik ist laut"],
    ["–ú—É–∑—ã–∫–∞ –æ—á–µ–Ω—å –≥—Ä–æ–º–∫–∞—è", "Die Musik ist sehr laut"],
    ["–°—É–º–∫–∞ —Ç—è–∂–µ–ª–∞—è", "Die Tasche ist schwer"],
    ["–°—É–º–∫–∞ –æ—á–µ–Ω—å —Ç—è–∂–µ–ª–∞—è", "Die Tasche ist sehr schwer"],
    ["–°—É–º–∫–∞ —Ç–∞–∫–∞—è —Ç—è–∂–µ–ª–∞—è", "Die Tasche ist so schwer"]
  ],
  youtube: "https://youtu.be/hAROvz0YlVQ"
},
2: {
  words: [
    ["–º—É–∂—Å–∫–æ–π —Å—Ä–µ–¥–Ω–∏–π –∂–µ–Ω—Å–∫–∏–π", "einen (m), ein (n), eine (f)"],
    ["–£ –º–µ–Ω—è –µ—Å—Ç—å –Ω–æ—É—Ç–±—É–∫. –ù–æ—É—Ç–±—É–∫ –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π", "Ich habe einen Laptop. Der Laptop ist sehr schnell"],
    ["–£ –º–µ–Ω—è –µ—Å—Ç—å —Ä–∞–±–æ—Ç–∞. –†–∞–±–æ—Ç–∞ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∞—è", "Ich habe einen Job. Der Job ist sehr gut"],
    ["–Ø –≤–∏–∂—É –ø–æ–µ–∑–¥. –ü–æ–µ–∑–¥ –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π", "Ich sehe einen Zug. Der Zug ist sehr schnell"],
    ["–Ø –≤–∏–∂—É –ø–æ–µ–∑–¥. –ü–æ–µ–∑–¥ —á–µ—Ä–Ω—ã–π", "Ich sehe einen Zug. Der Zug ist schwarz"],
    ["–Ø –≤–∏–∂—É –ø–∞—Ä–∫. –ü–∞—Ä–∫ –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π", "Ich sehe einen Park. Der Park ist sehr gro√ü"],
    ["–Ø –≤–∏–∂—É –º–∞—à–∏–Ω—É. –ú–∞—à–∏–Ω–∞ —á–µ—Ä–Ω–∞—è", "Ich sehe ein Auto. Das Auto ist schwarz"],
    ["–£ –º–µ–Ω—è –µ—Å—Ç—å –º–∞—à–∏–Ω–∞. –ú–∞—à–∏–Ω–∞ –±–µ–ª–∞—è", "Ich habe ein Auto. Das Auto ist wei√ü"],
    ["–Ø –≤–∏–∂—É –¥–æ–º. –î–æ–º –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π", "Ich sehe ein Haus. Das Haus ist sehr gro√ü"],
    ["–Ø –≤–∏–∂—É –¥–æ–º. –î–æ–º –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–π", "Ich sehe ein Haus. Das Haus ist sehr klein"],
    ["–£ –º–µ–Ω—è –µ—Å—Ç—å –∫–Ω–∏–≥–∞. –ö–Ω–∏–≥–∞ –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è", "Ich habe ein Buch. Das Buch ist sehr interessant"],
    ["–£ –º–µ–Ω—è –µ—Å—Ç—å –º–æ–±–∏–ª—å–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω. –ú–æ–±–∏–ª—å–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –Ω–æ–≤—ã–π", "Ich habe ein Handy. Das Handy ist neu"],
    ["–Ø –≤–∏–∂—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω. –†–µ—Å—Ç–æ—Ä–∞–Ω –æ—á–µ–Ω—å –ø–æ–ø—É–ª—è—Ä–Ω—ã–π", "Ich sehe ein Restaurant. Das Restaurant ist sehr beliebt"],
    ["–£ –º–µ–Ω—è –µ—Å—Ç—å —á–∞—Å—ã. –ß–∞—Å—ã –æ—á–µ–Ω—å —Å—Ç–∏–ª—å–Ω—ã–µ", "Ich habe eine Uhr. Die Uhr ist sehr stylisch"],
    ["–£ –º–µ–Ω—è –µ—Å—Ç—å —á–∞—Å—ã. –ß–∞—Å—ã –æ—á–µ–Ω—å –∫—Ä–∞—Å–∏–≤—ã–µ", "Ich habe eine Uhr. Die Uhr ist sehr sch√∂n"],
    ["–£ –º–µ–Ω—è –µ—Å—Ç—å —Å—É–º–∫–∞. –°—É–º–∫–∞ –æ—á–µ–Ω—å —Ç—è–∂–µ–ª–∞—è", "Ich habe eine Tasche. Die Tasche ist sehr schwer"]
  ],
  youtube: "https://youtu.be/WChxiETSQ5w"
},
3: {
  words: [
    ["–ì–¥–µ –≤–æ–∫–∑–∞–ª?", "Wo ist der Bahnhof?"],
    ["–ì–¥–µ –∞—ç—Ä–æ–ø–æ—Ä—Ç?", "Wo ist der Flughafen?"],
    ["–ì–¥–µ —Ä—ã–Ω–æ–∫?", "Wo ist der Markt?"],
    ["–ì–¥–µ –ø–∞—Ä–∫?", "Wo ist der Park?"],
    ["–ì–¥–µ –æ–∑–µ—Ä–æ?", "Wo ist der See?"],
    ["–ì–¥–µ –ø–ª—è–∂?", "Wo ist der Strand?"],
    ["–ì–¥–µ —Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç?", "Wo ist der Supermarkt?"],
    ["–ì–¥–µ –∑–æ–æ–ø–∞—Ä–∫?", "Wo ist der Zoo?"],
    ["–ì–¥–µ –∫–∞—Ñ–µ?", "Wo ist das Caf√©?"],
    ["–ì–¥–µ —Ñ–∏—Ç–Ω–µ—Å-—Ü–µ–Ω—Ç—Ä?", "Wo ist das Fitnessstudio?"],
    ["–ì–¥–µ –≥–æ—Å—Ç–∏–Ω–∏—Ü–∞?", "Wo ist das Hotel?"],
    ["–ì–¥–µ –±–æ–ª—å–Ω–∏—Ü–∞?", "Wo ist das Krankenhaus?"],
    ["–ì–¥–µ –º—É–∑–µ–π?", "Wo ist das Museum?"],
    ["–ì–¥–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω?", "Wo ist das Restaurant?"],
    ["–ì–¥–µ –±–∞—Å—Å–µ–π–Ω?", "Wo ist das Schwimmbad?"],
    ["–ì–¥–µ —Ç–µ–∞—Ç—Ä?", "Wo ist das Theater?"],
    ["–ì–¥–µ –∞–ø—Ç–µ–∫–∞?", "Wo ist die Apotheke?"],
    ["–ì–¥–µ –±–∞–Ω–∫?", "Wo ist die Bank?"],
    ["–ì–¥–µ —à–∫–æ–ª–∞?", "Wo ist die Schule?"],
    ["–ì–¥–µ —Ç—É–∞–ª–µ—Ç?", "Wo ist die Toilette?"],
    ["–ì–¥–µ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç?", "Wo ist die Universit√§t?"]
  ],
  youtube: "https://youtu.be/FJFJIErm34k"
},
4: {
  words: [
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∏–π –≤–æ–∫–∑–∞–ª?", "Wo ist der n√§chste Bahnhof?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∏–π –∞—ç—Ä–æ–ø–æ—Ä—Ç?", "Wo ist der n√§chste Flughafen?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∏–π –ø–∞—Ä–∫?", "Wo ist der n√§chste Park?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–µ–µ –æ–∑–µ—Ä–æ?", "Wo ist der n√§chste See?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∏–π —Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç?", "Wo ist der n√§chste Supermarkt?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∏–π —Ñ–∏—Ç–Ω–µ—Å-—Ü–µ–Ω—Ç—Ä?", "Wo ist das n√§chste Fitnessstudio?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∞—è –≥–æ—Å—Ç–∏–Ω–∏—Ü–∞?", "Wo ist das n√§chste Hotel?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–µ–µ –∫–∞—Ñ–µ?", "Wo ist das n√§chste Caf√©?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∞—è –±–æ–ª—å–Ω–∏—Ü–∞?", "Wo ist das n√§chste Krankenhaus?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∏–π –º—É–∑–µ–π?", "Wo ist das n√§chste Museum?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∏–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω?", "Wo ist das n√§chste Restaurant?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∏–π –±–∞—Å—Å–µ–π–Ω?", "Wo ist das n√§chste Schwimmbad?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∏–π —Ç–µ–∞—Ç—Ä?", "Wo ist das n√§chste Theater?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∞—è –∞–ø—Ç–µ–∫–∞?", "Wo ist die n√§chste Apotheke?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∞—è –ø–µ–∫–∞—Ä–Ω—è?", "Wo ist die n√§chste B√§ckerei?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∏–π –±–∞–Ω–∫?", "Wo ist die n√§chste Bank?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∞—è —Ü–µ—Ä–∫–æ–≤—å?", "Wo ist die n√§chste Kirche?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∞—è –ø–∏—Ü—Ü–µ—Ä–∏—è?", "Wo ist die n√§chste Pizzeria?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∞—è –ø–æ—á—Ç–∞?", "Wo ist die n√§chste Post?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∞—è —à–∫–æ–ª–∞?", "Wo ist die n√§chste Schule?"],
    ["–ì–¥–µ –±–ª–∏–∂–∞–π—à–∞—è —Å—Ç–∞–Ω—Ü–∏—è –º–µ—Ç—Ä–æ?", "Wo ist die n√§chste U-Bahn?"]
  ],
  youtube: "https://youtu.be/N4hUvfjAHSo"
},
5: {
  words: [
    ["–≠—Ç–æ –µ—Å—Ç—å", "Das ist ein(m/n)/eine(f)... Er ist(m)/Sie ist(f)/Es ist(n)"],
    ["–≠—Ç–æ –æ—Ç–µ–ª—å. –û–Ω –æ—á–µ–Ω—å –∫—Ä–∞—Å–∏–≤—ã–π", "Das ist ein Hotel. Es ist sehr sch√∂n"],
    ["–≠—Ç–æ —Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç. –û–Ω –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∏–π", "Das ist ein Supermarkt. Er ist sehr gut"],
    ["–≠—Ç–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω. –ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω", "Das ist ein Restaurant. Ich mag das Restaurant"],
    ["–≠—Ç–æ –∫–∞—Ñ–µ. –û–Ω–æ –º–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è", "Das ist ein Caf√©. Ich mag es"],
    ["–≠—Ç–æ –º—É–∑–µ–π. –û–Ω –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π", "Das ist ein Museum. Es ist sehr interessant"],
    ["–≠—Ç–æ –ø–∞—Ä–∫. –û–Ω —Ç–∞–∫–æ–π –∫—Ä–∞—Å–∏–≤—ã–π", "Das ist ein Park. Er ist so sch√∂n"],
    ["–≠—Ç–æ —Ü–µ—Ä–∫–æ–≤—å. –û–Ω–∞ –æ—á–µ–Ω—å —Å—Ç–∞—Ä–∞—è", "Das ist eine Kirche. Sie ist sehr alt"],
    ["–≠—Ç–æ –±–∞–Ω–∫. –û–Ω –æ—Ç–∫—Ä—ã—Ç", "Das ist eine Bank. Sie ist offen"],
    ["–≠—Ç–æ –±–∞–Ω–∫. –û–Ω –∑–∞–∫—Ä—ã—Ç", "Das ist eine Bank. Sie ist geschlossen"],
    ["–≠—Ç–æ –º–∞–≥–∞–∑–∏–Ω. –û–Ω –æ—Ç–∫—Ä—ã—Ç", "Das ist ein Gesch√§ft. Es ist offen"],
    ["–≠—Ç–æ –º–∞–≥–∞–∑–∏–Ω. –û–Ω –∑–∞–∫—Ä—ã—Ç", "Das ist ein Gesch√§ft. Es ist geschlossen"],
    ["–≠—Ç–æ –ø–æ–¥–∞—Ä–æ–∫. –û–Ω –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∏–π", "Das ist ein Geschenk. Es ist sehr gut"],
    ["–≠—Ç–æ –±–æ–ª—å–Ω–∏—Ü–∞. –û–Ω–∞ –æ—á–µ–Ω—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è", "Das ist ein Krankenhaus. Es ist sehr modern"],
    ["–≠—Ç–æ –º–æ–µ", "Das ist mein(m,n)/meine(f)"],
    ["–≠—Ç–æ –º–æ—è –ª—é–±–∏–º–∞—è –µ–¥–∞", "Das ist mein Lieblingsessen"],
    ["–≠—Ç–æ –º–æ—è –ª—é–±–∏–º–∞—è –ø–µ—Å–Ω—è", "Das ist mein Lieblingslied"],
    ["–≠—Ç–æ –º–æ–µ –ª—é–±–∏–º–æ–µ –º–µ—Å—Ç–æ", "Das ist mein Lieblingsort"],
    ["–≠—Ç–æ –º–æ—è –∫–æ–º–Ω–∞—Ç–∞. –û–Ω–∞ –æ—á–µ–Ω—å –±–æ–ª—å—à–∞—è", "Das ist mein Zimmer. Es ist sehr gro√ü"],
    ["–≠—Ç–æ –Ω–∞—à–∞", "Das ist unser(m,n)/unsere(f)"],
    ["–≠—Ç–æ –Ω–∞—à–∞ –∫–æ–º–Ω–∞—Ç–∞. –û–Ω–∞ –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∞—è", "Das ist unser Zimmer. Es ist sehr klein"],
    ["–≠—Ç–æ –º–æ—è –∫–≤–∞—Ä—Ç–∏—Ä–∞. –û–Ω–∞ –±–æ–ª—å—à–∞—è –∏ —É—é—Ç–Ω–∞—è", "Das ist meine Wohnung. Sie ist gro√ü und gem√ºtlich"],
    ["–≠—Ç–æ –º–æ—è –∫–≤–∞—Ä—Ç–∏—Ä–∞. –û–Ω–∞ –º–∞–ª–µ–Ω—å–∫–∞—è, –Ω–æ –æ—á–µ–Ω—å —É—é—Ç–Ω–∞—è", "Das ist meine Wohnung. Sie ist klein, aber sehr gem√ºtlich"]
  ],
  youtube: "https://youtu.be/wKzsTdZf52o"
}







  };

const telegramLink = "https://t.me/deutschland_learn";
     let currentLesson = 1;
  let speechRate = 1;
  let currentUtterance = null;

  const params = new URLSearchParams(window.location.search);
  if (params.has("lesson")) currentLesson = parseInt(params.get("lesson"));
  document.getElementById("lessonSelect").value = currentLesson;

  function goLesson(n) {
    window.location.search = "?lesson=" + n;
  }
    // –∫–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é
  document.getElementById("toTestBtn").addEventListener("click", () => {
    // –ø–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–π –Ω–æ–º–µ—Ä —É—Ä–æ–∫–∞
    const currentLesson = document.getElementById("lessonSelect").value || 1;
    // –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ test.html, –ø–µ—Ä–µ–¥–∞–≤–∞—è –Ω–æ–º–µ—Ä —É—Ä–æ–∫–∞ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä
    window.location.href = `lesen5.html?lesson=${currentLesson}`;
  });

  function speakWord(wordElement, text, lang = "de-DE") {
    if (currentUtterance) speechSynthesis.cancel();
    wordElement.classList.add("highlight");
    const utter = new SpeechSynthesisUtterance(text);
    utter.lang = lang;
    utter.rate = speechRate;
    currentUtterance = utter;
    utter.onend = () => wordElement.classList.remove("highlight");
    speechSynthesis.speak(utter);
  }

  function renderLesson() {
    const content = document.getElementById("lessonContent");
    content.innerHTML = "";
    const lesson = lessons[currentLesson];
    if (!lesson) return;
    document.getElementById("lessonTitle").textContent = "–£—Ä–æ–∫ " + currentLesson;

    lesson.words.forEach(pair => {
      const div = document.createElement("div");
      div.className = "phrase";
      div.textContent = `${pair[0]} ‚Äî ${pair[1]} `;
      const btn = document.createElement("button");
      btn.textContent = "üîä";
      btn.onclick = () => speakWord(div, pair[1]);
      div.appendChild(btn);
      content.appendChild(div);
    });
    document.getElementById("youtubeBtn").onclick = () => {
    window.open(lesson.youtube, "_blank");
  };
  document.getElementById("telegramBtn").onclick = () => {
    window.open(telegramLink, "_blank");
  };
}

  // –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
  const lessonScreen = document.getElementById("lessonScreen");
  const testScreen = document.getElementById("testScreen");
  const toTestBtn = document.getElementById("toTestBtn");
  const backToLessons = document.getElementById("backToLessons");
  const testContainer = document.getElementById("testContainer");

  toTestBtn.addEventListener("click", () => {
    const lesson = lessons[currentLesson];
    if (!lesson || !lesson.words) return;

    testContainer.innerHTML = `<h3>–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Äî –£—Ä–æ–∫ ${currentLesson}</h3>`;

    const shuffled = [...lesson.words].sort(() => Math.random() - 0.5).slice(0, 5);

    shuffled.forEach(([q, a], i) => {
      const isRuToDe = Math.random() < 0.5;
      const question = isRuToDe ? q : a;
      const answer = isRuToDe ? a : q;

      const block = document.createElement("div");
      block.className = "question-block";
      block.innerHTML = `
        <p>${i + 1}. ${isRuToDe ? `–ö–∞–∫ –±—É–¥–µ—Ç –ø–æ-–Ω–µ–º–µ—Ü–∫–∏: <b>${question}</b>?` : `–ß—Ç–æ –∑–Ω–∞—á–∏—Ç: <b>${question}</b>?`}</p>
        <input type="text" class="testInput" placeholder="–û—Ç–≤–µ—Ç...">
        <button class="checkBtn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
        <span class="feedback"></span>
      `;

      const input = block.querySelector(".testInput");
      const btn = block.querySelector(".checkBtn");
      const fb = block.querySelector(".feedback");

      btn.addEventListener("click", () => {
        if (input.value.trim().toLowerCase() === answer.toLowerCase()) {
          fb.textContent = "‚úÖ –í–µ—Ä–Ω–æ!";
          fb.style.color = "#4caf50";
        } else {
          fb.textContent = `‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω–æ: ${answer}`;
          fb.style.color = "#f44336";
        }
      });

      testContainer.appendChild(block);
    });

    lessonScreen.style.display = "none";
    testScreen.style.display = "block";
  });

  backToLessons.addEventListener("click", () => {
    testScreen.style.display = "none";
    lessonScreen.style.display = "block";
  });

  // —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ—á–∏
  const rateRange = document.getElementById("rateRange");
  const rateValue = document.getElementById("rateValue");
  rateRange.addEventListener("input", () => {
    speechRate = parseFloat(rateRange.value);
    rateValue.textContent = speechRate.toFixed(1);
  });

  renderLesson();
</script>
</body>
</html>